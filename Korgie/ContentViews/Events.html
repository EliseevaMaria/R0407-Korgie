<div class="dark-div" ng-click="showHideMenu()"></div>
<div class="container content">
    <div class="mobile-header" layout="row" layout-align="start center" hide-gt-sm>
        <button type="button" class="btn btn--m btn--blue btn--icon" ng-click="showHideMenu()">
            <i class="mdi mdi-menu"></i>
        </button>
        <h2>Events</h2>
    </div>
    <div id="day-mode" ng-if="dayToShow">
        <div class="day-mode-close">
            <button class="btn btn--m btn--red btn--icon" lx-ripple ng-click="closeDayMode()"><i class="mdi mdi-close"></i></button>
        </div>
        <div class="day-mode-header" layout-align="center center" layout="row">
            <div class="day-header" layout="row" layout-align="space-between center">
                <button class="btn btn--m btn--blue btn--icon" ng-click="prevDay()" lx-ripple><i class="mdi mdi-chevron-left"></i></button>
                {{dayToShow | dayMode}}
                <button class="btn btn--m btn--blue btn--icon" ng-click="nextDay()" lx-ripple><i class="mdi mdi-chevron-right"></i></button>
            </div>
        </div>
        <div layout="row" layout-sm="column">
            <div class="day-mode-events" layout-gt-sm="column" layout-align-gt-sm="center center">
                <div layout="row" layout-align="center center">
                    <button class="btn btn--m btn--black btn--icon" lx-ripple ng-click="opendDialog('test')"><i class="mdi mdi-plus"></i></button>
                </div>
                <div class="detailed-event" ng-repeat="event in dayToShow.events" ng-click="openDialog('test')">
                    <div class="day-mode-delete">
                        <button class="btn btn--m btn--red btn--icon" lx-ripple ng-click="deleteEvent(event.EventId)"><i class="mdi mdi-delete"></i></button>
                    </div>
                    <div class="time">{{event.Start | getStartTime}}</div>
                    <div class="title" layout="row" layout-align="center center">{{event.Title}}</div>
                    <div class="type" layout="row" layout-align="start center">
                        <div class={{event.Type}}></div>
                        {{event.Type}}
                    </div>
                </div>
            </div>
            <div class="day-mode-todos" layout="column" layout-align="space-between center">
                <div>
                    <button class="btn btn--m btn--black btn--icon" lx-ripple ng-click="opendDialog('test')"><i class="mdi mdi-plus"></i></button>
                </div>
            </div>
        </div>
    </div>

    <div ng-if="!dayToShow">        
        <div layout-align="center center" layout="row">
            <div class="month-header" layout="row" layout-align="space-between center">
                <button class="btn btn--m btn--blue btn--icon" ng-click="prevMonth()" lx-ripple><i class="mdi mdi-chevron-left"></i></button>
                {{month | monthName}}, {{year}}
                <button class="btn btn--m btn--blue btn--icon" ng-click="nextMonth()" lx-ripple><i class="mdi mdi-chevron-right"></i></button>
            </div>
        </div>
        <div layout="row" layout-align="space-around center" class="week-days">
            <div>Mon</div>
            <div>Tue</div>
            <div>Wed</div>
            <div>Thu</div>
            <div>Fri</div>
            <div>Sat</div>
            <div>Sun</div>
        </div>
        <!--<day-of-month month={{month}} year={{year}} monthdays="days"></day-of-month>-->
        <div class="month-day" ng-repeat="calendarDay in days">
            <div ng-click="showDay(calendarDay.id)" ng-class="{'disabled-month-day': calendarDay.month == undefined, 'some-events': calendarDay.types.length > 0}">
                <div class="day-number">{{calendarDay.day}}</div>
                <div class="event-container" hide-sm>
                    <div ng-repeat="type in calendarDay.types">
                        <div class={{type}} ng-click="showTypeEvents(type)">

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <lx-dialog class="dialog dialog--l" id="test" auto-close="true">
        <div class="event" layout="column" layout-align="space-beetwen" layout-margin layout-padding>
            <div class="buttons" layout="row">
                <button class=" btn btn--m btn--blue btn--flat controllsVisible" lx-ripple ng-click="showHideControlls()">edit</button>
                <button class="btn btn--m btn--red btn--icon" lx-ripple ng-click="deleteEvent(event.EventId)"><i class="mdi mdi-delete"></i></button><!--ng-click="opendDialog('test1')"-->
                <!--<lx-dialog class="dialog dialog--l" id="test1" auto-close="true">zwesxdrjk,.;</lx-dialog>-->
            </div>
            <div class="center-block">
                <h1>
                    <span class="display-block controllsVisible">{{eventToEdit.Title}}</span>
                    <lx-text-field label="Title" fixed-label="true" class="controllsUnvisible">
                        <input type="text" ng-model="eventToEdit.Title">
                    </lx-text-field>
                </h1>
            </div>
            <div class="center-div">
                <div layout="row" layout-sm="column">
                    <div flex=" 50">
                        <div>
                            <p>Date:</p>
                            <span class="display-block controllsVisible"> {{eventToEdit.Start}}</span>
                            <input class="controllsUnvisible" type="date" ng-model="eventToEdit.Start">
                        </div>
                        <div>
                            <p>Time:</p><span class="display-block controllsVisible">{{eventToEdit.Time}}</span>
                            <input class="controllsUnvisible" type="time" name="time" ng-model="eventToEdit.Time">
                        </div>
                        <div>
                            <p>Type:</p><span class="display-block controllsVisible">{{eventToEdit.Type}}</span>
                            <select class="controllsUnvisible" ng-model="eventToEdit.Type">
                                <option value="sport">Sport</option>
                                <option value="work">Work</option>
                                <option value="study">Study</option>
                                <option value="rest">Rest</option>
                            </select>
                        </div>
                    </div>
                    <div flex=" 50">
                        <div>
                            <p>Notifications:</p> <span class="display-block controllsVisible">{{eventToEdit.Notifications}}</span>
                            <input class="controllsUnvisible" type="number" min="0" ng-model="eventToEdit.Notifications"> days
                        </div>
                        <div>
                            <p>Periodical:</p>

                            <span class="display-block controllsVisible">{{eventToEdit.Period}}</span>
                            <select class="controllsUnvisible" ng-model="eventToEdit.Period">
                                <option value="day">Day</option>
                                <option value="week">Week</option>
                                <option value="month">Month</option>
                                <option value="year">Year</option>
                                <option value="none">None</option>
                            </select>
                        </div>
                        <div class="checkbox" layout="row">
                            <input type="checkbox" id="checkbox1" class="checkbox__input">
                            <label for="checkbox1" class="checkbox__label">Mon</label>
                            <input type="checkbox" id="checkbox2" class="checkbox__input">
                            <label for="checkbox2" class="checkbox__label">Tue</label>
                            <input type="checkbox" id="checkbox3" class="checkbox__input">
                            <label for="checkbox3" class="checkbox__label">Wed</label>
                            <input type="checkbox" id="checkbox4" class="checkbox__input">
                            <label for="checkbox4" class="checkbox__label">Thu</label>
                            <input type="checkbox" id="checkbox5" class="checkbox__input">
                            <label for="checkbox5" class="checkbox__label">Fri</label>
                            <input type="checkbox" id="checkbox6" class="checkbox__input">
                            <label for="checkbox6" class="checkbox__label">Sut</label>
                            <input type="checkbox" id="checkbox7" class="checkbox__input">
                            <label for="checkbox7" class="checkbox__label">Sun</label>
                        </div>
                    </div>
                </div>
                <div>
                    <div>
                        <p>Description:</p>
                        <span class="display-block controllsVisible">{{eventToEdit.Description}}</span>
                        <textarea class="controllsUnvisible">{{eventToEdit.Description}}</textarea>
                    </div>
                    <div>
                        <p>Tags:</p>
                        <span class="display-block controllsVisible">{{eventToEdit.Tags}}</span>
                        <textarea class="controllsUnvisible">{{eventToEdit.Tags}}</textarea>
                    </div>
                    <div>
                        <p>Contacts:</p>

                    </div>
                </div>
                <div layout="row" layout-align="end">
                    <button class="btn btn--m btn--blue btn--flat" lx-ripple>Save</button>
                    <button class="btn btn--m btn--blue btn--flat" lx-ripple lx-dialog-close>Close</button>
                </div>
            </div>
        </div>
    </lx-dialog>
</div>
